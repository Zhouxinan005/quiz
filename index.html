<!-- quiz.html-->
<!DOCTYPE html>
<html>
​
<head>
    <meta charset="utf-8" />
    <title>接受洗礼吧！</title>
    <link rel="stylesheet" type="text/css" href="quiz.css">
</head>
​
<body>
    <div class="QuizTable">
        <h1>单选题</h1>
        <div id="quiz" class="quiz">
            <!-- <p>What is the capital of France?</p>
          <ul>
            <li>Paris</li>
            <li>London</li>
            <li>Madrid</li>
            <li>Rome</li>
          </ul> -->
        </div>
        <p id="result" class="result"></p>
        <button id="quit" type="button">Quit</button>
        <button id="next" type="button">Next</button>
    </div>
​
    <script type="text/javascript">
        //设置题目布局
        // const body=document.getElementsByName("body");
        // const width=body.width;
        // const height=body.height;
        // const QuizTable=document.getElementById("QuizTable");
        // QuizTable.style.left=width/2;
        // QuizTable.style.top=height/2;
​
        // 获取题库数组
        const quizData = [
            {
                "question": "( )标志着毛泽东思想的初步形成.",
                "answers": [
                    "A.提出并阐述农村包围城市,武装夺取政权思想",
                    "B.《井冈山的斗争》",
                    "C.《星星之火,可以燎原》",
                    "D.《反对本本主义》"
                ],
                "correctAnswer": "A.提出并阐述农村包围城市,武装夺取政权思想"
            },
            {
                "question": "( )首次对毛泽东和毛泽东思想的历史地位做出了科学的.实事求是的评价.",
                "answers": [
                    "A.《在纪念毛泽东同志诞辰120周年座谈会上的讲话》",
                    "B.《中国共产党中央委员会关于建国以来党的若干历史问题的讲话》",
                    "C.《中共中央关于党的百年奋斗重大成就和历史经验的决议》",
                    "D.《关于若干历史问题的决议》"
                ],
                "correctAnswer": "B.《中国共产党中央委员会关于建国以来党的若干历史问题的讲话》"
            },
            {
                "question": "( )事实上确立了毛泽东在党中央和红军的领导地位.",
                "answers": [
                    "A.八七会议",
                    "B.中共七大",
                    "C.古田会议",
                    "D.遵义会议"
                ],
                "correctAnswer": "D.遵义会议"
            },
            {
                "question": "下列不属于毛泽东思想活的灵魂的是( )",
                "answers": [
                    "A.实事求是",
                    "B.群众路线",
                    "C.党的建设",
                    "D.独立自主"
                ],
                "correctAnswer": "C.党的建设"
            },
            {
                "question": "中国共产党的生命线和根本工作路线是( )",
                "answers": [
                    "A.实事求是",
                    "B.群众路线",
                    "C.独立自主",
                    "D.党的建设"
                ],
                "correctAnswer": "B.群众路线"
            },
            {
                "question": "在中国共产党历史上,( )第一个明确提出\"马克思主义中国化\"的科学命题和重大任务.",
                "answers": [
                    "A.刘少奇",
                    "B.周恩来",
                    "C.陈独秀",
                    "D.毛泽东"
                ],
                "correctAnswer": "D.毛泽东"
            },
            {
                "question": "把毛泽东思想写入党章,确立为中国共产党必须长期坚持的指导思想的会议是( ).",
                "answers": [
                    "A.党的六届七中全会",
                    "B.党的七届六中全会",
                    "C.党的六大",
                    "D.党的七大"
                ],
                "correctAnswer": "D.党的七大"
            }
            //其他题目
        ];
​
        // 从题库中随机抽取一道题目
        const quizIndex = Math.floor(Math.random() * quizData.length);
        const quiz = quizData[quizIndex];
        console.log(quizIndex);
        // 显示题目和选项
        const quizElement = document.getElementById("quiz");
        quizElement.innerHTML = `
          <p>${quiz.question}</p>
          <ul>
            ${quiz.answers
                .map(
                    (answer) => `<li>${answer}</li>`
                )
                .join("")}
          </ul>
        `;
​
        // 监听答案点击事件
        const answerElements = quizElement.querySelectorAll("li");
        for (let i = 0; i < answerElements.length; i++) {
            const answerElement = answerElements[i];
            answerElement.addEventListener("click", () => {
                // 检查答案是否正确
                const isCorrect = quiz.correctAnswer === answerElement.innerText;
                const resultElement = document.getElementById("result");
                if (isCorrect) {
                    resultElement.innerText = "正确的。 答案是: " + quiz.correctAnswer;
                    resultElement.style.color = "green";
                } else {
                    resultElement.innerText =
                        "错误的！ 正确答案是: " + quiz.correctAnswer;
                    resultElement.style.color = "red";
                }
            });
        }
​
        // 监听“下一题”按钮点击事件
​
        const nextButton = document.getElementById("next");
        nextButton.addEventListener("click", () => {
            // 随机抽取下一道题目
            const nextQuizIndex = Math.floor(Math.random() * quizData.length);
            const nextQuiz = quizData[nextQuizIndex];
            console.log(nextQuizIndex);
            // 显示题目和选项
            const quizElement = document.getElementById("quiz");
            quizElement.innerHTML = `
        <p>${nextQuiz.question}</p>
        <ul>
          ${nextQuiz.answers
                    .map(
                        (answer) => `<li>${answer}</li>`
                    )
                    .join("")}
        </ul>
      `;
​
            const answerElements = quizElement.querySelectorAll("li");
            for (let i = 0; i < answerElements.length; i++) {
                const answerElement = answerElements[i];
                answerElement.addEventListener("click", () => {
                    // 检查答案是否正确
                    const isCorrect = nextQuiz.correctAnswer === answerElement.innerText;
                    const resultElement = document.getElementById("result");
                    if (isCorrect) {
                        resultElement.innerText = "正确的。 答案是: " + nextQuiz.correctAnswer;
                        resultElement.style.color = "green";
                    } else {
                        resultElement.innerText =
                            "错误的！ 正确答案是: " + nextQuiz.correctAnswer;
                        resultElement.style.color = "red";
                    }
                });
            }
​
            // 清空答题结果
            const resultElement = document.getElementById("result");
            resultElement.innerText = "";
        });
​
        // 监听“退出”按钮点击事件
        const quitButton = document.getElementById("quit");
        quitButton.addEventListener("click", () => {
            // 退出程序
            window.close();
        });
    </script>
</body>
